import Head from 'next/head'
import Image from 'next/image'
import axios from 'axios'
import React, { useState,useEffect } from 'react';
//import styles from '../../styles/ProductListing.module.css'

export default function ProductListing() {
const pageTitle = "Product Listing Page";
const [productList, setProductList] = useState([]);
const [categoryList, setCategoryList]= useState([]);

useEffect(() => {
  // Update the document title using the browser API
  
  getCategory();
  getProduct();

},[]);


async function getProduct(){

  const res = await axios.get(`https://fakestoreapi.com/products`)
  setProductList(res.data);

}

async function getCategory(){

  const res = await axios.get(`https://fakestoreapi.com/products/categories`)
  setCategoryList(res.data);

}



  return (
    <div className="container">
    <Head>
      <title>{pageTitle} </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="icon" href="/favicon.ico" />
    </Head>
    <div className="sidebar">
        {/* <a className="active" href="#home">Home</a>
        <a href="#news">News</a>
        <a href="#contact">Contact</a>
        <a href="#about">About</a> */}

     {categoryList.map((item,index)=>{
         return <a key={index} className={index == 0 ? 'active':''}>{item + index}</a>
     })}
      

    </div>
    <div className="content">
        {/* <div className="card">
            <img src="https://picsum.photos/200/300" alt="Denim Jeans" style={{width:"100%"}} />
            <h1>Tailored Jeans</h1>
            <p className="price">$19.99</p>
            <p>Some text about the jeans..</p>
            <p><button>Add to Cart</button></p>
        </div>
        <div className="card">
            <img src="https://picsum.photos/seed/picsum/200/300" alt="Denim Jeans" style={{width:"100%"}} />
            <h1>Tailored Jeans</h1>
            <p className="price">$19.99</p>
            <p>Some text about the jeans..</p>
            <p><button>Add to Cart</button></p>
        </div>
        <div className="card">
            <img src="https://picsum.photos/200/300?grayscale" alt="Denim Jeans" style={{width:"100%"}} />
            <h1>Tailored Jeans</h1>
            <p className="price">$19.99</p>
            <p>Some text about the jeans..</p>
            <p><button>Add to Cart</button></p>
        </div> */}



<div className="listing-section">
  
  
{productList.map((item,index)=>{
         return <div className="product" key={index}>
         <div className="image-box">
           <div className="images">
            
             <Image
        src={item.image}
        alt={item.title}
        layout="fill"
        
      />
           </div>
         </div>
         <div className="text-box">
           <h2 className="item">{item.title}</h2>
           <h3 className="price">{item.price}</h3>
           <p className="description">{item.description}</p>
           
           <button type="button" name="item-2-button" id="item-2-button">Add to Cart</button>
         </div>
       </div>
     


         
     })}
     

  
  
  
  
  
  
  
  
  
  
  
  
  
  <div className="product">
    <div className="image-box">
      <div className="images" >
      {/* <Image src="https://sc01.alicdn.com/kf/UT8.CaXX2NXXXagOFbXC/fresh-navel-oranges.jpg" alt="Picture of the author"/> */}
      </div>
    </div>
    <div className="text-box">
      <h2 className="item">Orange</h2>
      <h3 className="price">$4.99</h3>
      <p className="description">A bag of delicious oranges!</p>
      <label for="item-1-quantity">Quantity:</label>
      <input type="text" name="item-1-quantity" id="item-1-quantity" value="1"/>
      <button type="button" name="item-1-button" id="item-1-button">Add to Cart</button>
    </div>
  </div>

  <div className="product">
    <div className="image-box">
      <div className="images" id="image-2"></div>
    </div>
    <div className="text-box">
      <h2 className="item">Apple</h2>
      <h3 className="price">$4.99</h3>
      <p className="description">A bag of delicious apples!</p>
      <label for="item-2-quantity">Quantity:</label>
      <p>1</p><input type="text" name="item-2-quantity" id="item-2-quantity" value="1" />
      <button type="button" name="item-2-button" id="item-2-button">Add to Cart</button>
    </div>
  </div>
  <div className="product">
    <div className="image-box">
      <div className="images" id="image-3"></div>
    </div>
    <div className="text-box">
      <h2 className="item">Passionfruit</h2>
      <h3 className="price">$4.99</h3>
      <p className="description">A bag of delicious passionfruit!</p>
      <label for="item-3-quantity">Quantity:</label>
      <input type="text" name="item-3-quantity" id="item-3-quantity" value="1" />
      <button type="button" name="item-3-button" id="item-3-button">Add to Cart</button>
    </div>
  </div>
  <div className="product">
    <div className="image-box">
      <div className="images" id="image-4"></div>
    </div>
    <div className="text-box">
      <h2 className="item">Pineapple</h2>
      <h3 className="price">$4.99</h3>
      <p className="description">A bag of delicious pineapples!</p>
      <label for="item-4-quantity">Quantity:</label>
      <input type="text" name="item-4-quantity" id="item-4-quantity" value="1" />
      <button type="button" name="item-4-button" id="item-4-button">Add to Cart</button>
    </div>
  </div>
  <div className="product">
    <div className="image-box">
      <div className="images" id="image-5"></div>
    </div>
    <div className="text-box">
      <h2 className="item">Mango</h2>
      <h3 className="price">$4.99</h3>
      <p className="description">A bag of delicious mangos!</p>
      <label for="item-5-quantity">Quantity:</label>
      <input type="text" name="item-5-quantity" id="item-5-quantity" value="1" />
      <button type="button" name="item-5-button" id="item-5-button">Add to Cart</button>
    </div>
  </div>
  <div className="product">
    <div className="image-box">
      <div className="images" id="image-6"></div>
    </div>
    <div className="text-box">
      <h2 className="item">Coconut</h2>
      <h3 className="price">$4.99</h3>
      <p className="description">A bag of delicious coconuts!</p>
      <label for="item-6-quantity">Quantity:</label>
      <input type="text" name="item-6-quantity" id="item-6-quantity" value="1" />
      <button type="button" name="item-6-button" id="item-6-button">Add to Cart</button>
    </div>
  </div>
  <div className="product">
    <div className="image-box">
      <div className="images" id="image-7"></div>
    </div>
    <div className="text-box">
      <h2 className="item">Banana</h2>
      <h3 className="price">$4.99</h3>
      <p className="description">A bag of delicious bananas!</p>
      <label for="item-7-quantity">Quantity:</label>
      <input type="text" name="item-7-quantity" id="item-7-quantity" value="1" />
      <button type="button" name="item-7-button" id="item-7-button">Add to Cart</button>
    </div>
  </div>
  <div className="product">
    <div className="image-box">
      <div className="images" id="image-8"></div>
    </div>
    <div className="text-box">
      <h2 className="item">Plum</h2>
      <h3 className="price">$4.99</h3>
      <p className="description">A bag of delicious plums!</p>
      <label for="item-8-quantity">Quantity:</label>
      <input type="text" name="item-8-quantity" id="item-8-quantity" value="1" />
      <button type="button" name="item-8-button" id="item-8-button">Add to Cart</button>
    </div>
  </div>
  <div className="product">
    <div className="image-box">
      <div className="images" id="image-9"></div>
    </div>
    <div className="text-box">
      <h2 className="item">Avocado</h2>
      <h3 className="price">$4.99</h3>
      <p className="description">A bag of delicious avocados!</p>
      <label for="item-9-quantity">Quantity:</label>
      <input type="text" name="item-9-quantity" id="item-9-quantity" value="1" />
      <button type="button" name="item-9-button" id="item-9-button">Add to Cart</button>
    </div>
  </div>
  <div className="product">
    <div className="image-box">
      <div className="images" id="image-10"></div>
    </div>
    <div className="text-box">
      <h2 className="item">Lemon</h2>
      <h3 className="price">$4.99</h3>
      <p className="description">A bag of delicious lemons!</p>
      <label >Quantity:</label>
      <input type="text" name="item-10-quantity" id="item-10-quantity" value="1" />
      <button type="button" name="item-10-button" id="item-10-button">Add to Cart</button>
    </div>
  </div>
</div>


     </div>
     
</div>
    
    
    )    
}
